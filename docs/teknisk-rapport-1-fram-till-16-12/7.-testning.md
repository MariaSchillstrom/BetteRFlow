# 7. Testning

### 7. Testning

#### 7.1 Teststrategi

Projektet anv√§nder f√∂r n√§rvarande manuell testning under utvecklingsfasen. Testning sker via Swagger f√∂r API-endpoints och genom manuell interaktion med webbgr√§nssnittet.

**Testmetoder:**

* **Swagger UI**: Testning av API-endpoints
* **Webbl√§sare**: Manuell testning av anv√§ndarfl√∂den
* **DB Browser for SQLite**: Verifiering av data i databasen

**Planerad testning (fas 2):**

* Integrationstester med xUnit
* End-to-end tester med Playwright
* Automatiserad testning i CI/CD-pipeline

***

#### 7.2 Testade funktioner

**‚úÖ Autentisering**

**Registrering:**

* Anv√§ndare kan registrera sig med email, anv√§ndarnamn och l√∂senord
* Validering syns och fungerar i Swagger
* Rollval fungerar (BRF-medlem / M√§klare)
* Anv√§ndare sparas i databasen

**Inloggning:**

* Anv√§ndare kan logga in med korrekta uppgifter
* Inloggningsdata skickas till backend

**Kvar att verifiera:**

* L√∂senordshasning (visuell kontroll i databas beh√∂vs)
* Blockering av duplicerade email/anv√§ndarnamn
* LastLogin-uppdatering

**‚úÖ API-endpoints (testade via Swagger)**

**AuthController:**

* `POST /api/auth/register` - Skapar ny anv√§ndare
* `POST /api/auth/login` - Loggar in anv√§ndare

**UserController:**

* `GET /api/user` - H√§mtar anv√§ndarlista
* `GET /api/user/{id}` - H√§mtar specifik anv√§ndare
* `PUT /api/user/{id}` - Uppdaterar anv√§ndare
* `DELETE /api/user/{id}` - Tar bort anv√§ndare

**BrfController:**

* `GET /api/brf` - H√§mtar BRF:er (h√•rdkodat testdata)
* `POST /api/brf` - Skapar ny BRF

**‚úÖ Databas**

* Migrations k√∂rs utan fel
* User-data sparas korrekt
* Brf-data sparas korrekt
* SQLite-databas fungerar f√∂r lokal utveckling

**‚úÖ Frontend-Backend kommunikation**

* CORS-konfiguration till√•ter kommunikation mellan frontend (port 7026) och backend (port 7007)
* HttpClient i Blazor kan kommunicera med API
* Data skickas och tas emot korrekt

***

#### 7.3 P√•g√•ende utveckling (till 19/12)

F√∂ljande funktioner √§r under implementering och kommer testas innan delredovisningen:

**Formul√§rfunktionalitet:**

* BRF-anv√§ndare dirigeras till formul√§rsida efter inloggning
* Formul√§r med \~100 f√§lt visas korrekt
* Formul√§rdata kan fyllas i
* FormSubmission sparas via POST `/api/formsubmission`

**Navigation:**

* NavMenu visar r√§tt l√§nkar baserat p√• anv√§ndarroll
* Routing fungerar korrekt f√∂r olika anv√§ndartyper

#### 7.4 Testresultat

**Status per komponent:**

| Komponent      | Status   | Kommentar                               |
| -------------- | -------- | --------------------------------------- |
| Registrering   | ‚úÖ PASS   | Fungerar via frontend och API           |
| Inloggning     | ‚úÖ PASS   | Fungerar, routing till r√§tt sida p√•g√•r  |
| UserController | ‚úÖ PASS   | Alla CRUD-operationer fungerar          |
| BrfController  | ‚úÖ PASS   | Grundfunktionalitet fungerar            |
| AuthController | ‚úÖ PASS   | Register och Login fungerar             |
| Databas        | ‚úÖ PASS   | Migrations och datapersistens fungerar  |
| CORS           | ‚úÖ PASS   | Frontend-backend kommunikation fungerar |
| Formul√§r       | üîÑ P√ÖG√ÖR | Implementation p√•g√•r till 19/12         |

#### 7.5 K√§nda begr√§nsningar

F√∂r denna delredovisning g√§ller f√∂ljande begr√§nsningar:

* Endast grundl√§ggande autentisering (JWT kommer i fas 2)
* H√•rdkodat testdata f√∂r vissa delar
* Begr√§nsad felhantering (f√∂rb√§ttras i fas 2)
* Ingen automatiserad testning √§n

Dessa begr√§nsningar √§r accepterade f√∂r denna fas och kommer adresseras i kommande iterationer.
