---
description: >-
  Detta kapitel beskriver hur säkerhet har beaktats och implementerats i
  BetteRFlow, med fokus på autentisering, behörighet, dataskydd och designval
  som minskar risken för missbruk och felaktig åtkomst.
---

# 7. Produktion/lokal körning

### 7.1 Säkerhetsprinciper

Systemets säkerhet bygger på några grundläggande principer:

* Minsta möjliga behörighet per användarroll
* Ingen känslig logik i frontend
* Backend som enda sanningskälla
* Skydd av användaruppgifter och inloggningsinformation
* Tydlig separation mellan applikationsfunktioner och systemadministration

Dessa principer har varit vägledande vid både arkitektur- och implementationsbeslut.

### 7.2 Autentisering och lösenordshantering

Autentisering sker via backend-API:t. Vid inloggning:

* skickas användarens inloggningsuppgifter till backend
* lösenord verifieras mot lagrad hash
* användarens roll identifieras

Lösenord lagras aldrig i klartext. Istället används **BCrypt** för hashning av lösenord. BCrypt är en etablerad standard som:

* automatiskt använder salt
* är beräkningsmässigt kostsam
* skyddar mot brute-force-attacker

Detta innebär att även vid dataläckage kan lösenord inte återskapas.

### 7.3 Rollbaserad åtkomstkontroll

Systemet använder rollbaserad åtkomstkontroll för att styra vilka funktioner och vyer som är tillgängliga för olika användare.

Roller hanteras enligt följande:

* BRF och Mäklare kan registrera sig via frontend
* Administratörer kan inte registreras via publikt gränssnitt
* Roller kontrolleras i backend vid varje relevant anrop

Frontend används enbart för presentation och navigation. Alla beslut om behörighet fattas i backend, vilket förhindrar manipulation via klientkod.

### 7.4 Administratörshantering och systemadministration

Administratörskonton skapas manuellt av systemägaren direkt i databasen. Detta är ett medvetet säkerhetsval som:

* förhindrar att obehöriga användare skapar admin-konton
* följer etablerad praxis i produktionssystem
* skiljer på applikationsanvändare och systemadministration

Administratören har ingen funktion i applikationen för att ändra användares lösenord eller roller via UI. Sådana åtgärder är begränsade till systemadministration och drift.

### 7.5 Skydd av data och dataintegritet

All data lagras i en relationsdatabas med tydliga relationer mellan entiteter. Detta möjliggör:

* spårbarhet av ändringar
* koppling mellan användare, formulär och köp
* kontrollerad hantering av uppdateringar

Avvikelsehanteringen är ett centralt säkerhets- och kvalitetsinslag, då ingen rapporterad information automatiskt skriver över befintlig grunddata. Alla förändringar måste granskas och godkännas manuellt av administratör.

### 7.6 Skydd mot otillåten åtkomst

Systemet skyddar mot otillåten åtkomst genom:

* rollkontroller i backend
* begränsning av skyddade endpoints
* frånvaro av administrativa funktioner i frontend för vanliga användare

Även om frontend-vyer manipuleras manuellt kan skyddade resurser inte nås utan korrekt roll och autentisering.

### 7.7 Säkerhet i utvecklings- och driftsmiljö

Under utveckling används separata databaser och konfigurationer för lokal miljö och produktion. Detta minskar risken för att testdata eller utvecklingsinställningar påverkar produktionsmiljön.

Containerbaserad drift med Docker bidrar till:

* konsekventa körmiljöer
* minskad risk för miljörelaterade säkerhetsproblem
* tydlig isolering mellan systemets delar

### 7.8 Sammanfattning av säkerhetsarbetet

Säkerhetsarbetet i BetteRFlow fokuserar på praktiska och realistiska åtgärder som är relevanta för systemets användningsområde. Genom att kombinera tekniska skyddsåtgärder med tydliga designval uppnås en balanserad nivå av säkerhet, anpassad för både demonstration och framtida vidareutveckling.
