# 1. Produkten

### 1.1 Översikt

BetteRFlow är en webbaserad applikation som syftar till att digitalisera och strukturera informationsutbytet mellan bostadsrättsföreningar (BRF), fastighetsmäklare och systemadministratörer. Systemet ersätter manuella och ostrukturerade arbetsflöden, såsom PDF-formulär och e-postkommunikation, med ett centralt och databaserat arbetssätt.

Applikationen består av ett webbgränssnitt (WebApp) och ett bakomliggande API som tillsammans hanterar användarregistrering, autentisering, formulärhantering, köpflöden och administrativ granskning av data.

### 1.2 Användarroller

Systemet är uppdelat i tre tydliga användarroller, där varje roll har avgränsad funktionalitet och åtkomst.

#### BRF (Bostadsrättsförening)

BRF-användare representerar bostadsrättsföreningar och ansvarar för att:

* Registrera konto i systemet
* Fylla i digitala formulär med föreningsinformation
* Uppdatera uppgifter vid förändringar
* Bidra till att informationen i systemet hålls aktuell

BRF kan endast hantera sin egen information och har ingen åtkomst till administrativa funktioner eller andra föreningars data.

#### Mäklare

Mäklare använder systemet för att:

* Söka efter BRF:er
* Ta del av tillgänglig föreningsinformation
* Köpa verifierad information via ett förenklat köpflöde
* Få tillgång till korrekt och kvalitetssäkrad data inför fastighetsaffärer

Mäklare kan inte ändra grunddata och har ingen administrativ åtkomst.

#### Administratör (Admin)

Administratören har ansvar för systemets övergripande kvalitet och korrekthet. Admin-rollen används för att:

* Granska och hantera avvikelser mellan grunddata och inrapporterade formulär
* Säkerställa dataintegritet
* Övervaka systemets funktion och innehåll

Av säkerhetsskäl kan administratörer **inte registreras via det publika registreringsformuläret**. Administratörskonton skapas istället manuellt av systemägaren direkt i databasen. Detta är ett medvetet designval som följer etablerad praxis i produktionssystem och förhindrar att obehöriga användare skapar konton med förhöjd behörighet.

### 1.3 Roll- och behörighetsmodell

Roller i systemet lagras internt som heltalsvärden i databasen:

* `0` – BRF
* `1` – Mäklare
* `2` – Admin

Vid inloggning översätts dessa värden till semantiska rollnamn som används i applikationens logik för navigation och åtkomstkontroll. Detta möjliggör en tydlig separation mellan datalagring och användarupplevelse.

Endast administratörer har tillgång till administrativa vyer såsom `/admin`, medan övriga användare automatiskt dirigeras till sina respektive startsidor efter inloggning.

### 1.4 Säkerhetsprinciper i produktdesignen

Produktens design bygger på grundläggande säkerhetsprinciper:

* Lösenord lagras aldrig i klartext utan hashas med BCrypt
* Roller kan inte manipuleras via frontend
* Administrativa funktioner är inte exponerade i UI för vanliga användare
* Systemadministration (databasåtkomst) är strikt separerad från applikationsfunktionalitet

Genom denna uppdelning säkerställs att applikationen är säker ur användarperspektiv, samtidigt som systemägaren behåller nödvändig kontroll över drift och administration.
