---
description: >-
  Detta kapitel innehåller några av de problem som jag stötte på under arbetets
  gång.
---

# 9. Problem och lösningar



### **9. Problem och lösningar**

Under utvecklings- och produktionsfasen identifierades flera problem som är typiska för verklighetsnära system med separata miljöer (lokal utveckling och produktion). Nedan redovisas de viktigaste problemen samt hur de hanterades eller analyserades.

#### **9.1 Skillnader mellan lokal miljö och produktion**

**Problem:**\
Applikationen fungerade initialt korrekt i lokal utvecklingsmiljö (SQLite), men vissa funktioner – framför allt kopplade till köp och relationer mellan entiteter – gav fel i produktionsmiljön (PostgreSQL).

**Orsak:**\
Skillnader i hur databaser hanterar:

* Foreign Keys
* null-värden
* strikt validering av relationsdata

PostgreSQL i produktion är striktare än SQLite lokalt, vilket är vanligt i verkliga system.

**Lösning / åtgärd:**

* Databasstrukturen analyserades via pgAdmin i produktion
* Relationen mellan `User`, `FormSubmission` och `Purchase` identifierades som kritisk
* Problemet dokumenterades som en **miljöskillnad**, vilket visar förståelse för framtida drift och migrering

#### **9.2 Betalningsflöde (fejkat köp)**

**Problem:**\
Det fejkat betalningsflödet fungerade under tidigare utvecklingsskeden men gav senare valideringsfel i produktion vid skapande av köp.

**Orsak:**\
Köpet är kopplat till både användare och formulär via foreign keys. När data saknades eller inte matchade exakt i databasen avbröts transaktionen av databasen.

**Lösning / åtgärd:**

* Ett förenklat, simulerat betalningsflöde användes (utan extern betaltjänst)
* Köplogik behölls i systemet för att visa **arkitektur och flöde**
* Fokus lades på att visa hur ett köp **ska fungera strukturellt**, snarare än faktisk betalning

Detta bedöms som tillräckligt för projektets omfattning och kursens krav.

#### **9.3 Dataseparation mellan lokal miljö och produktion**

**Problem:**\
Data som skapades lokalt (SQLite) påverkade inte produktionsmiljön (PostgreSQL), vilket ibland gav olika resultat vid testning.

**Orsak:**\
Applikationen använder separata databaser för lokal utveckling och produktion, vilket är korrekt och önskvärt i verkliga system.

**Lösning / åtgärd:**

* Lokal miljö användes för utveckling och felsökning
* Produktion användes för demo och verifiering
* Detta beteende dokumenterades och användes som ett exempel på korrekt miljöseparation

#### **9.4 Inaktiva BRF:er efter import**

**Problem:**\
BRF:er som importerades via Excel visades initialt som inaktiva.

**Orsak:**\
En BRF betraktas som aktiv först när ett formulär har skickats in och kopplats till grunddata.

**Lösning / åtgärd:**

* Detta definierades som avsiktligt systembeteende
* Endast BRF:er med inskickade formulär exponeras fullt ut för mäklare
* Ger tydlig kontroll över datakvalitet och arbetsflöde

#### **9.5 Sammanfattning**

De problem som uppstod under projektet är typiska för system som:

* använder relationsdatabaser
* körs i flera miljöer
* har verklighetsnära datamodeller

Istället för att ses som brister visar dessa problem på:

* förståelse för arkitektur
* insikt i produktionsdrift
* medvetenhet om framtida skalning och förbättringar
